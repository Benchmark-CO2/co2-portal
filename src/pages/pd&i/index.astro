---
import { getCollection } from 'astro:content';
import Footer from '../../components/Footer.astro';
import ProjectStructure from '../../components/ProjectStructure.astro';
import ArticlePost from '../../layouts/ArticlePost.astro';
import Layout from '../../layouts/Layout.astro';

const articles = (await getCollection('articles')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout>
	<section class="flex max-md:flex-col max-md:p-2 h-full">
		<ProjectStructure />
		<ul
			class="flex flex-col gap-8 list-none m-0 p-0 mt-10 w-1/3 max-md:w-full ml-auto max-h-[900px] overflow-auto border-l-4 border-l-background"
		>
			<h3 class="font-semibold">Publicações científicas</h3>
			{
				articles.map((article) => (
					<li class=" flex flex-col justify-center items-center  mx-auto ">
						<a href={article.data.link} class="">
							<ArticlePost {...article.data} />
						</a>
					</li>
				))
			}
		</ul>
	</section>

	<Footer />
</Layout>
