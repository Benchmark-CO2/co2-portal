---
import Carousel from '../components/Carousel.tsx';
import Layout from '../layouts/Layout.astro';
import {TopSection,
StackeholderSection,
TeamSection,
} from '../components/index'
import { getCollection } from 'astro:content';


const teamEntries = await getCollection('team');

const activeTeamData = teamEntries.find(entry => entry.data.active !== false)?.data || teamEntries[0]?.data;

const team = activeTeamData?.team?.map(member => ({
	name: member.name,
	role: member.role,
	photo: member.image
})) || [];

const advisoryCommittee = activeTeamData?.advisoryCommittee?.map(member => ({
	name: member.name,
	role: member.role,
	photo: member.image || member.photo
})) || [];
---

<Layout class="bg-background">
	<div class="w-full flex justify-center">
		<div class="w-full max-w-7xl px-6 lg:px-12 py-10 flex flex-col">
			<TopSection />
			<StackeholderSection />
			<TeamSection people={team} title="Quem Somos?" />
			<TeamSection people={advisoryCommittee} title="ComitÃª Consultivo" />
		</div>
	</div>
</Layout>
